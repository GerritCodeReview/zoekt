{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d9592c65_3ea83986",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1060017
      },
      "writtenOn": "2021-09-20T14:14:04Z",
      "side": 1,
      "message": "Given this is quite a core change, gonna wait for Han-Wen instead of +2ing.",
      "revId": "5bc2d8453961cee952ac48cdd8e4d4d3bc2a2632",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d111df45_d677efcb",
        "filename": "toc.go",
        "patchSetId": 3
      },
      "lineNbr": 30,
      "author": {
        "id": 1060017
      },
      "writtenOn": "2021-09-20T14:14:04Z",
      "side": 1,
      "message": "Han-Wen: how do you feel about keeping in master backwards compatibility for a while before bumping IndexFormatVersion?\n\nI think historically you bumped IndexFormatVersion without keeping backwards compatibility? At Sourcegraph we often do this sort of strategy to decouple updates with reindexing the world.\n\nAs it stands this tagged format means it will be easy to support backwards compatibility going forward and will be more obvious to do.",
      "revId": "5bc2d8453961cee952ac48cdd8e4d4d3bc2a2632",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14b07c08_4e500668",
        "filename": "toc.go",
        "patchSetId": 3
      },
      "lineNbr": 30,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-09-20T14:24:22Z",
      "side": 1,
      "message": "I would just update the indexing server, but leave the old webserver up. Once the index is redone, upgrade the webserver.\n\nyou\u0027re running a production service, so I guess you have other priorities. That said \"a while\" is quite vague, and without a policy on versioning zoekt itself, it may not be that useful.",
      "parentUuid": "d111df45_d677efcb",
      "revId": "5bc2d8453961cee952ac48cdd8e4d4d3bc2a2632",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "630fe8c1_3e71ca58",
        "filename": "toc.go",
        "patchSetId": 3
      },
      "lineNbr": 30,
      "author": {
        "id": 1137401
      },
      "writtenOn": "2021-09-22T05:57:29Z",
      "side": 1,
      "message": "I\u0027ve added some more detail here on ways to constrain forwards/backwards compatibility explicitly.\n\nLet me know if it looks reasonable, and I can write up some tests for it.",
      "parentUuid": "14b07c08_4e500668",
      "revId": "5bc2d8453961cee952ac48cdd8e4d4d3bc2a2632",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "535a076c_c47b8a7b",
        "filename": "toc.go",
        "patchSetId": 3
      },
      "lineNbr": 30,
      "author": {
        "id": 1060017
      },
      "writtenOn": "2021-09-28T12:14:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "630fe8c1_3e71ca58",
      "revId": "5bc2d8453961cee952ac48cdd8e4d4d3bc2a2632",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "53d688ee_504de7c7",
        "filename": "toc.go",
        "patchSetId": 3
      },
      "lineNbr": 140,
      "author": {
        "id": 1060017
      },
      "writtenOn": "2021-09-20T14:14:04Z",
      "side": 1,
      "message": "Ryan: how do you expect we will enforce index updates when we want to remove compatibility?\n\nRight now the IndexFormatVersion is both the read and write version. Do you envision we should port our Read vs Write version logic we have in our fork of Zoekt? Or does that also change with tagged sections?",
      "revId": "5bc2d8453961cee952ac48cdd8e4d4d3bc2a2632",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2ec053d3_6b43be4a",
        "filename": "toc.go",
        "patchSetId": 3
      },
      "lineNbr": 140,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-09-20T14:24:22Z",
      "side": 1,
      "message": "FWIW, similar systems I\u0027ve seen would write multiple versions of the data, and the search system picks which schema to use.",
      "parentUuid": "53d688ee_504de7c7",
      "revId": "5bc2d8453961cee952ac48cdd8e4d4d3bc2a2632",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "277171d9_85f3c8ec",
        "filename": "toc.go",
        "patchSetId": 3
      },
      "lineNbr": 140,
      "author": {
        "id": 1060017
      },
      "writtenOn": "2021-09-28T12:14:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2ec053d3_6b43be4a",
      "revId": "5bc2d8453961cee952ac48cdd8e4d4d3bc2a2632",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}